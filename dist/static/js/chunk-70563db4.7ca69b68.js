(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70563db4"],{"54c9":function(e,t,a){},aaa2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-container"},[a("div",{staticClass:"table-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"stripe",border:"border"}},[a("el-table-column",{attrs:{type:"index",label:"编号",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"发布者",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"feedback_content",label:"反馈内容",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"feedback_status",label:"状态",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:e.statusTxt(t.row["feedback_status"])[0]},[e._v(e._s(e.statusTxt(t.row["feedback_status"])[1]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.showProcessFeedback(t.$index,e.tableData)}}},[e._v(e._s(e.statusTxt(t.row["feedback_status"])[2]))]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.showDeleteFeedback(t.$index,e.tableData)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"bottom-button"},[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",disabled:1===e.page},on:{click:e.prevPage}},[e._v("上一页")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.tableData.length<e.count},on:{click:e.nextPage}},[e._v("\n        下一页\n        "),a("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"处理反馈",visible:e.processDialogVisible,width:"30%"},on:{"update:visible":function(t){e.processDialogVisible=t}}},[a("span",[e._v("是否"+e._s(e.dialogTxt))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeProcessDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.processFeedbackCallback}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"心情删除",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("是否删除")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDeleteDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteFeedbackCallback}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"心情内容",visible:e.previewDialogVisible,width:"30%"},on:{"update:visible":function(t){e.previewDialogVisible=t}}},[a("div",{staticClass:"content-wrapper"},[e._v("\n      内容\n    ")])])],1)},s=[],n=(a("96cf"),a("3b8d")),r=a("b775"),c=a("da71");function o(e){return Object(r["a"])({url:"".concat(c["a"].BASE_URL,"/feedback/get-feedback-list"),method:"get",params:e})}function l(e){return Object(r["a"])({url:"".concat(c["a"].BASE_URL,"/feedback/delete-feedback"),method:"get",params:e})}function u(e){return Object(r["a"])({url:"".concat(c["a"].BASE_URL,"/feedback/update-status"),method:"get",params:e})}var d={name:"User",data:function(){return{page:1,count:10,dialogTxt:"未处理",feedbackId:0,processDialogVisible:!1,deleteDialogVisible:!1,previewDialogVisible:!1,tableData:[]}},created:function(){this.fetchRequest(this.page,this.count)},methods:{openPreviewDialog:function(){this.previewDialogVisible=!0},closePreviewDialog:function(){this.previewDialogVisible=!1},openDeleteDialog:function(){this.deleteDialogVisible=!0},closeDeleteDialog:function(){this.deleteDialogVisible=!1},opneProcessDialog:function(){this.processDialogVisible=!0},closeProcessDialog:function(){this.processDialogVisible=!1},showDeleteFeedback:function(e,t){var a=t[e].feedback_id;this.feedbackId=a,this.openDeleteDialog()},deleteFeedbackCallback:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$loading({lock:!0,text:"".concat(this.dialogTxt,"中..."),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),e.prev=1,e.next=4,l({feedback_id:this.feedbackId});case 4:if(a=e.sent,i=a.data,1!==i.noerr){e.next=8;break}throw new Error;case 8:this.page=1,this.fetchRequest(this.page,this.count),this.$message.success("删除成功"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),this.$message.error("删除失败");case 16:return e.prev=16,t.close(),this.closeDeleteDialog(),e.finish(16);case 20:case"end":return e.stop()}}),e,this,[[1,13,16,20]])})));function t(){return e.apply(this,arguments)}return t}(),showProcessFeedback:function(e,t){var a=this.statusTxt(t[e].feedback_status)[2];if("已处理"!==a){var i=t[e].feedback_id;this.feedbackId=i,this.dialogTxt=this.statusTxt(t[e].feedback_status)[2],this.opneProcessDialog()}},processFeedbackCallback:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$loading({lock:!0,text:"".concat(this.dialogTxt,"中..."),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),e.prev=1,e.next=4,u({feedback_id:this.feedbackId,feedback_status:1});case 4:if(a=e.sent,i=a.data,1!==i.noerr){e.next=8;break}throw new Error;case 8:this.$message.success("".concat(this.dialogTxt,"成功")),this.page=1,this.fetchRequest(this.page,this.count),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),this.$message.error("".concat(this.dialogTxt,"失败"));case 16:return e.prev=16,t.close(),this.closeProcessDialog(),e.finish(16);case 20:case"end":return e.stop()}}),e,this,[[1,13,16,20]])})));function t(){return e.apply(this,arguments)}return t}(),showPreviewTalg:function(e,t){this.openPreviewDialog()},fetchRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o({page:t,count:a});case 3:i=e.sent,s=i.data,this.tableData=s.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message.error("获取列表失败");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t,a){return e.apply(this,arguments)}return t}(),nextPage:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.page=this.page+1,e.next=3,this.fetchRequest(this.page,this.count);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),prevPage:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.page=this.page-1,e.next=3,this.fetchRequest(this.page,this.count);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),statusTxt:function(e){return 1===+e?["status-1","已处理","已处理"]:["status-0","未处理","处理"]}}},p=d,b=(a("e084"),a("2877")),h=Object(b["a"])(p,i,s,!1,null,"5014a52e",null);t["default"]=h.exports},e084:function(e,t,a){"use strict";var i=a("54c9"),s=a.n(i);s.a}}]);